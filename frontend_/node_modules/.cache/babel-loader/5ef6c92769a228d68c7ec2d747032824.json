{"ast":null,"code":"var _jsxFileName = \"/Users/xun/Desktop/Group-18-Sapphire-Snail/frontend_/src/views/Main/searchEngine/searchE.jsx\";\nimport React from 'react';\nimport axios from 'axios';\nimport ReactDOM from 'react-dom';\nimport Article from '../article';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar wikiResult = [];\n\nconst clickli = async event => {\n  var e = event.target.innerHTML;\n  localStorage.setItem(\"event\", e);\n  Article();\n  var win = window.open('/wikipage', '_self');\n  win.focus();\n};\n\nconst getResult = async a => {\n  await axios.get('https://en.wikipedia.org/w/api.php?origin=*&action=opensearch&search=' + a).then(wikiResponse => {\n    const data = wikiResponse.data;\n    wikiResult = data; //localStorage.setItem(\"wikiResult\", wikiResult);\n    //alert('Data received!');\n  }).catch(() => {\n    alert('no data');\n  });\n};\n\nconst submitHandler = async (event, type) => {\n  var text = event; //console.log(event+'1111');\n\n  if (text !== \"\") {\n    if (document.getElementById(type)) document.getElementById(type).style.visibility = \"visible\"; //alert(\"Submited: \"+text);\n\n    await getResult(text);\n    console.log(wikiResult);\n    var temp = [];\n    if (wikiResult[1] != null) temp = wikiResult[1]; //console.log(temp);\n\n    var i = 0;\n    var list = await temp.map(res => /*#__PURE__*/_jsxDEV(\"li\", {\n      id: 'li' + i++,\n      onClick: clickli,\n      children: res\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }, this));\n\n    const element = /*#__PURE__*/_jsxDEV(\"ul\", {\n      id: \"searchul\",\n      children: list\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }, this);\n\n    console.log(element);\n    ReactDOM.render(element, document.getElementById(type));\n  } else {\n    if (document.getElementById(type)) document.getElementById(type).style.visibility = \"hidden\"; //alert(\"Please enter what you want to search!\");\n  }\n};\n\nexport default submitHandler;","map":{"version":3,"sources":["/Users/xun/Desktop/Group-18-Sapphire-Snail/frontend_/src/views/Main/searchEngine/searchE.jsx"],"names":["React","axios","ReactDOM","Article","wikiResult","clickli","event","e","target","innerHTML","localStorage","setItem","win","window","open","focus","getResult","a","get","then","wikiResponse","data","catch","alert","submitHandler","type","text","document","getElementById","style","visibility","console","log","temp","i","list","map","res","element","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAsB,WAAtB;AACA,OAAOC,OAAP,MAAoB,YAApB;;AAEA,IAAIC,UAAU,GAAG,EAAjB;;AAEA,MAAMC,OAAO,GAAG,MAAOC,KAAP,IAAiB;AAC/B,MAAIC,CAAC,GAAGD,KAAK,CAACE,MAAN,CAAaC,SAArB;AACAC,EAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BJ,CAA9B;AACAJ,EAAAA,OAAO;AACP,MAAIS,GAAG,GAAGC,MAAM,CAACC,IAAP,CAAY,WAAZ,EAAwB,OAAxB,CAAV;AACAF,EAAAA,GAAG,CAACG,KAAJ;AAEC,CAPH;;AASA,MAAMC,SAAS,GAAG,MAAOC,CAAP,IAAa;AACvB,QAAMhB,KAAK,CAACiB,GAAN,CAAU,0EAAwED,CAAlF,EACLE,IADK,CAEJC,YAAY,IAAI;AACd,UAAMC,IAAI,GAAGD,YAAY,CAACC,IAA1B;AACAjB,IAAAA,UAAU,GAAGiB,IAAb,CAFc,CAGd;AACA;AACD,GAPG,EAQHC,KARG,CAQG,MAAM;AACXC,IAAAA,KAAK,CAAC,SAAD,CAAL;AACD,GAVG,CAAN;AAYP,CAbD;;AAeA,MAAMC,aAAa,GAAE,OAAOlB,KAAP,EAAcmB,IAAd,KAAsB;AACvC,MAAIC,IAAI,GAAGpB,KAAX,CADuC,CAEvC;;AAEA,MAAGoB,IAAI,KAAG,EAAV,EACA;AACE,QAAGC,QAAQ,CAACC,cAAT,CAAwBH,IAAxB,CAAH,EAAkCE,QAAQ,CAACC,cAAT,CAAwBH,IAAxB,EAA8BI,KAA9B,CAAoCC,UAApC,GAAiD,SAAjD,CADpC,CAEE;;AACA,UAAMd,SAAS,CAACU,IAAD,CAAf;AACAK,IAAAA,OAAO,CAACC,GAAR,CAAY5B,UAAZ;AACA,QAAI6B,IAAI,GAAG,EAAX;AACA,QAAG7B,UAAU,CAAC,CAAD,CAAV,IAAiB,IAApB,EAA0B6B,IAAI,GAAG7B,UAAU,CAAC,CAAD,CAAjB,CAN5B,CAOE;;AACA,QAAI8B,CAAC,GAAG,CAAR;AAEA,QAAIC,IAAI,GAAE,MAAMF,IAAI,CAACG,GAAL,CAAUC,GAAD,iBACvB;AAAI,MAAA,EAAE,EAAI,OAAKH,CAAC,EAAhB;AAAoB,MAAA,OAAO,EAAE7B,OAA7B;AAAA,gBAAuCgC;AAAvC;AAAA;AAAA;AAAA;AAAA,YADc,CAAhB;;AAGA,UAAMC,OAAO,gBACX;AAAK,MAAA,EAAE,EAAC,UAAR;AAAA,gBAAqBH;AAArB;AAAA;AAAA;AAAA;AAAA,YADF;;AAIAJ,IAAAA,OAAO,CAACC,GAAR,CAAYM,OAAZ;AACApC,IAAAA,QAAQ,CAACqC,MAAT,CAAgBD,OAAhB,EAAyBX,QAAQ,CAACC,cAAT,CAAwBH,IAAxB,CAAzB;AAED,GArBD,MAuBA;AACE,QAAGE,QAAQ,CAACC,cAAT,CAAwBH,IAAxB,CAAH,EAAkCE,QAAQ,CAACC,cAAT,CAAwBH,IAAxB,EAA8BI,KAA9B,CAAoCC,UAApC,GAAiD,QAAjD,CADpC,CAEE;AACD;AACJ,CA/BD;;AAgCA,eAAeN,aAAf","sourcesContent":["import React from 'react';\r\nimport axios from 'axios';\r\nimport ReactDOM from  'react-dom';\r\nimport Article from '../article';\r\n\r\nvar wikiResult = [];\r\n\r\nconst clickli = async (event) => {\r\n  var e = event.target.innerHTML;\r\n  localStorage.setItem(\"event\", e);\r\n  Article();\r\n  var win = window.open('/wikipage','_self');\r\n  win.focus();\r\n  \r\n  }\r\n\r\nconst getResult = async (a) => {\r\n        await axios.get('https://en.wikipedia.org/w/api.php?origin=*&action=opensearch&search='+a)\r\n        .then(\r\n          wikiResponse => {\r\n            const data = wikiResponse.data;\r\n            wikiResult = data;\r\n            //localStorage.setItem(\"wikiResult\", wikiResult);\r\n            //alert('Data received!');\r\n          })\r\n          .catch(() => {\r\n            alert('no data');\r\n          }\r\n        );\r\n}\r\n\r\nconst submitHandler =async (event, type) =>{\r\n    var text = event;\r\n    //console.log(event+'1111');\r\n    \r\n    if(text!==\"\")\r\n    {\r\n      if(document.getElementById(type)) document.getElementById(type).style.visibility = \"visible\";\r\n      //alert(\"Submited: \"+text);\r\n      await getResult(text);\r\n      console.log(wikiResult);\r\n      var temp = [];\r\n      if(wikiResult[1] != null) temp = wikiResult[1];\r\n      //console.log(temp);\r\n      var i = 0;\r\n\r\n      var list =await temp.map((res)=>\r\n        <li id = {'li'+i++} onClick={clickli}>{res}</li>\r\n      );\r\n      const element = (\r\n        <ul  id='searchul' >{list}</ul>\r\n      );\r\n     \r\n      console.log(element);\r\n      ReactDOM.render(element, document.getElementById(type));\r\n        \r\n    }\r\n    else\r\n    {\r\n      if(document.getElementById(type)) document.getElementById(type).style.visibility = \"hidden\";\r\n      //alert(\"Please enter what you want to search!\");\r\n    }\r\n}\r\nexport default submitHandler;"]},"metadata":{},"sourceType":"module"}