{"ast":null,"code":"var _jsxFileName = \"/Users/xun/Desktop/Group-18-Sapphire-Snail/frontend_/src/views/Main/searchEngine/searchE.jsx\";\nimport React from 'react';\nimport axios from 'axios';\nimport ReactDOM from 'react-dom'; //import Article from '../article';\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar wikiResult = [];\n\nconst clickli = async event => {\n  var e = event.target.innerHTML;\n  localStorage.setItem(\"event\", e);\n  var win = window.open('/wikipage/' + e, '_self');\n  win.focus();\n};\n\nconst getResult = async a => {\n  await axios.get('https://en.wikipedia.org/w/api.php?origin=*&action=opensearch&search=' + a).then(wikiResponse => {\n    const data = wikiResponse.data;\n    wikiResult = data; //localStorage.setItem(\"wikiResult\", wikiResult);\n    //alert('Data received!');\n  }).catch(() => {\n    alert('no data');\n  });\n};\n\nconst submitHandler = async (event, type) => {\n  var text = event; //console.log(event+'1111');\n\n  if (text !== \"\") {\n    if (document.getElementById(type)) document.getElementById(type).style.visibility = \"visible\"; //alert(\"Submited: \"+text);\n\n    await getResult(text);\n    console.log(wikiResult);\n    var temp = [];\n    if (wikiResult[1] != null) temp = wikiResult[1]; //console.log(temp);\n\n    var i = 0;\n    var list = await temp.map(res => /*#__PURE__*/_jsxDEV(\"li\", {\n      id: 'li' + i++,\n      onClick: clickli,\n      children: res\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }, this));\n\n    const element = /*#__PURE__*/_jsxDEV(\"ul\", {\n      id: \"searchul\",\n      children: list\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }, this);\n\n    console.log(element);\n    ReactDOM.render(element, document.getElementById(type));\n  } else {\n    if (document.getElementById(type)) document.getElementById(type).style.visibility = \"hidden\"; //alert(\"Please enter what you want to search!\");\n  }\n};\n\nexport default submitHandler;","map":{"version":3,"sources":["/Users/xun/Desktop/Group-18-Sapphire-Snail/frontend_/src/views/Main/searchEngine/searchE.jsx"],"names":["React","axios","ReactDOM","wikiResult","clickli","event","e","target","innerHTML","localStorage","setItem","win","window","open","focus","getResult","a","get","then","wikiResponse","data","catch","alert","submitHandler","type","text","document","getElementById","style","visibility","console","log","temp","i","list","map","res","element","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAsB,WAAtB,C,CACA;;;AAEA,IAAIC,UAAU,GAAG,EAAjB;;AAEA,MAAMC,OAAO,GAAG,MAAOC,KAAP,IAAiB;AAC/B,MAAIC,CAAC,GAAGD,KAAK,CAACE,MAAN,CAAaC,SAArB;AACAC,EAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BJ,CAA9B;AACA,MAAIK,GAAG,GAAGC,MAAM,CAACC,IAAP,CAAY,eAAaP,CAAzB,EAA2B,OAA3B,CAAV;AACAK,EAAAA,GAAG,CAACG,KAAJ;AAEC,CANH;;AAQA,MAAMC,SAAS,GAAG,MAAOC,CAAP,IAAa;AACvB,QAAMf,KAAK,CAACgB,GAAN,CAAU,0EAAwED,CAAlF,EACLE,IADK,CAEJC,YAAY,IAAI;AACd,UAAMC,IAAI,GAAGD,YAAY,CAACC,IAA1B;AACAjB,IAAAA,UAAU,GAAGiB,IAAb,CAFc,CAGd;AACA;AACD,GAPG,EAQHC,KARG,CAQG,MAAM;AACXC,IAAAA,KAAK,CAAC,SAAD,CAAL;AACD,GAVG,CAAN;AAYP,CAbD;;AAeA,MAAMC,aAAa,GAAE,OAAOlB,KAAP,EAAcmB,IAAd,KAAsB;AACvC,MAAIC,IAAI,GAAGpB,KAAX,CADuC,CAEvC;;AAEA,MAAGoB,IAAI,KAAG,EAAV,EACA;AACE,QAAGC,QAAQ,CAACC,cAAT,CAAwBH,IAAxB,CAAH,EAAkCE,QAAQ,CAACC,cAAT,CAAwBH,IAAxB,EAA8BI,KAA9B,CAAoCC,UAApC,GAAiD,SAAjD,CADpC,CAEE;;AACA,UAAMd,SAAS,CAACU,IAAD,CAAf;AACAK,IAAAA,OAAO,CAACC,GAAR,CAAY5B,UAAZ;AACA,QAAI6B,IAAI,GAAG,EAAX;AACA,QAAG7B,UAAU,CAAC,CAAD,CAAV,IAAiB,IAApB,EAA0B6B,IAAI,GAAG7B,UAAU,CAAC,CAAD,CAAjB,CAN5B,CAOE;;AACA,QAAI8B,CAAC,GAAG,CAAR;AAEA,QAAIC,IAAI,GAAE,MAAMF,IAAI,CAACG,GAAL,CAAUC,GAAD,iBACvB;AAAI,MAAA,EAAE,EAAI,OAAKH,CAAC,EAAhB;AAAoB,MAAA,OAAO,EAAE7B,OAA7B;AAAA,gBAAuCgC;AAAvC;AAAA;AAAA;AAAA;AAAA,YADc,CAAhB;;AAGA,UAAMC,OAAO,gBACX;AAAK,MAAA,EAAE,EAAC,UAAR;AAAA,gBAAqBH;AAArB;AAAA;AAAA;AAAA;AAAA,YADF;;AAIAJ,IAAAA,OAAO,CAACC,GAAR,CAAYM,OAAZ;AACAnC,IAAAA,QAAQ,CAACoC,MAAT,CAAgBD,OAAhB,EAAyBX,QAAQ,CAACC,cAAT,CAAwBH,IAAxB,CAAzB;AAED,GArBD,MAuBA;AACE,QAAGE,QAAQ,CAACC,cAAT,CAAwBH,IAAxB,CAAH,EAAkCE,QAAQ,CAACC,cAAT,CAAwBH,IAAxB,EAA8BI,KAA9B,CAAoCC,UAApC,GAAiD,QAAjD,CADpC,CAEE;AACD;AACJ,CA/BD;;AAiCA,eAAeN,aAAf","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport ReactDOM from  'react-dom';\n//import Article from '../article';\n\nvar wikiResult = [];\n\nconst clickli = async (event) => {\n  var e = event.target.innerHTML;\n  localStorage.setItem(\"event\", e);\n  var win = window.open('/wikipage/'+e,'_self');\n  win.focus();\n  \n  }\n\nconst getResult = async (a) => {\n        await axios.get('https://en.wikipedia.org/w/api.php?origin=*&action=opensearch&search='+a)\n        .then(\n          wikiResponse => {\n            const data = wikiResponse.data;\n            wikiResult = data;\n            //localStorage.setItem(\"wikiResult\", wikiResult);\n            //alert('Data received!');\n          })\n          .catch(() => {\n            alert('no data');\n          }\n        );\n}\n\nconst submitHandler =async (event, type) =>{\n    var text = event;\n    //console.log(event+'1111');\n    \n    if(text!==\"\")\n    {\n      if(document.getElementById(type)) document.getElementById(type).style.visibility = \"visible\";\n      //alert(\"Submited: \"+text);\n      await getResult(text);\n      console.log(wikiResult);\n      var temp = [];\n      if(wikiResult[1] != null) temp = wikiResult[1];\n      //console.log(temp);\n      var i = 0;\n\n      var list =await temp.map((res)=>\n        <li id = {'li'+i++} onClick={clickli}>{res}</li>\n      );\n      const element = (\n        <ul  id='searchul' >{list}</ul>\n      );\n     \n      console.log(element);\n      ReactDOM.render(element, document.getElementById(type));\n        \n    }\n    else\n    {\n      if(document.getElementById(type)) document.getElementById(type).style.visibility = \"hidden\";\n      //alert(\"Please enter what you want to search!\");\n    }\n}\n\nexport default submitHandler;"]},"metadata":{},"sourceType":"module"}